<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:toolkit="http://schemas.microsoft.com/dotnet/2022/maui/toolkit"
             xmlns:local="clr-namespace:MAD_PT"
             x:Class="MAD_PT.MainPage"
             x:DataType="local:MainPage"
             BackgroundColor="{StaticResource OffBlack}">

    <ScrollView>
        <VerticalStackLayout Spacing="0" Padding="0,72,0,0">
            <Grid RowDefinitions="Auto" ColumnDefinitions="*">

                <Border BackgroundColor="{StaticResource Gray900}" StrokeThickness="0" Padding="20,64,20,24" HorizontalOptions="Fill" Margin="16,56,16,0">
                    <Border.StrokeShape>
                        <RoundRectangle CornerRadius="24" />
                    </Border.StrokeShape>
                    <VerticalStackLayout Spacing="12">
                        <Label Text="Vincent van Gogh" FontFamily="OpenSansSemibold" FontSize="30" TextColor="{StaticResource White}" HorizontalTextAlignment="Center"/>
                        <Label Text="Dutch, 1853 â€” 1890" FontSize="14" TextColor="{StaticResource Gray300}" HorizontalTextAlignment="Center"/>

                        <Label x:Name="BioIntro" Text="{Binding BioHeader}" MaxLines="2" LineBreakMode="TailTruncation" TextColor="{StaticResource White}">
                            <Label.Triggers>
                                <DataTrigger TargetType="Label" Binding="{Binding Source={x:Reference BioExpander}, Path=IsExpanded}" Value="True">
                                    <Setter Property="IsVisible" Value="False" />
                                </DataTrigger>
                            </Label.Triggers>
                        </Label>

                        <toolkit:Expander x:Name="BioExpander">
                            <toolkit:Expander.Header>
                                <Grid ColumnDefinitions="Auto" ColumnSpacing="6">
                                    <Label Text="Read More" TextColor="#E7C62D">
                                        <Label.Triggers>
                                            <DataTrigger TargetType="Label" Binding="{Binding Source={x:Reference BioExpander}, Path=IsExpanded}" Value="True">
                                                <Setter Property="Text" Value="Read Less" />
                                            </DataTrigger>
                                        </Label.Triggers>
                                    </Label>
                                </Grid>
                            </toolkit:Expander.Header>
                            <toolkit:Expander.Content>
                                <Label Text="{Binding FullBio}" TextColor="{StaticResource White}" Margin="0,6,0,0"/>
                            </toolkit:Expander.Content>
                        </toolkit:Expander>

                        <BoxView HeightRequest="1" Color="{StaticResource Gray600}" Opacity="0.4" />

                        <Grid ColumnDefinitions="*,*,*,*" ColumnSpacing="16" Padding="0,10">
                            <VerticalStackLayout Grid.Column="0" Spacing="2" HorizontalOptions="Center">
                                <Label Text="$7.5m" FontFamily="OpenSansSemibold" TextColor="{StaticResource White}" />
                                <Label Text="Record" TextColor="{StaticResource Gray400}" FontSize="12" />
                            </VerticalStackLayout>
                            <VerticalStackLayout Grid.Column="1" Spacing="2" HorizontalOptions="Center">
                                <Label Text="$3.5m" FontFamily="OpenSansSemibold" TextColor="{StaticResource White}" />
                                <Label Text="Average" TextColor="{StaticResource Gray400}" FontSize="12" />
                            </VerticalStackLayout>
                            <VerticalStackLayout Grid.Column="2" Spacing="2" HorizontalOptions="Center">
                                <Label Text="+598%" FontFamily="OpenSansSemibold" TextColor="{StaticResource White}" />
                                <Label Text="General" TextColor="{StaticResource Gray400}" FontSize="12" />
                            </VerticalStackLayout>
                            <VerticalStackLayout Grid.Column="3" Spacing="2" HorizontalOptions="Center">
                                <Label Text="12" FontFamily="OpenSansSemibold" TextColor="{StaticResource White}" />
                                <Label Text="Items" TextColor="{StaticResource Gray400}" FontSize="12" />
                            </VerticalStackLayout>
                        </Grid>
                        <BoxView HeightRequest="1" Color="{StaticResource Gray600}" Opacity="0.35" Margin="0,8,0,0" />
                    </VerticalStackLayout>
                </Border>

                <Grid HorizontalOptions="Center" VerticalOptions="Start" TranslationY="-12">
                    <Border Stroke="#E7C62D" StrokeThickness="4" Padding="3">
                        <Border.StrokeShape>
                            <Ellipse/>
                        </Border.StrokeShape>
                        <Grid>
                            <Image Source="vincent.jpg" WidthRequest="84" HeightRequest="84" Aspect="AspectFill">
                                <Image.Clip>
                                    <EllipseGeometry Center="42,42" RadiusX="42" RadiusY="42" />
                                </Image.Clip>
                            </Image>
                        </Grid>
                    </Border>
                </Grid>
            </Grid>

            <Label Text="Other Van Gogh Works" FontFamily="OpenSansSemibold" FontSize="18" TextColor="{StaticResource White}" Padding="20,16" />

            <CollectionView ItemsSource="{Binding Artworks}" SelectionMode="None" HorizontalOptions="Fill" VerticalOptions="Fill" Margin="16,0" BackgroundColor="Transparent">
                <CollectionView.ItemsLayout>
                    <GridItemsLayout Orientation="Vertical" Span="2" />
                </CollectionView.ItemsLayout>
                <CollectionView.ItemTemplate>
                    <DataTemplate x:DataType="local:Artwork">
                        <Border StrokeThickness="0" BackgroundColor="{StaticResource Gray900}" Padding="0" Margin="8,8">
                            <Border.StrokeShape>
                                <RoundRectangle CornerRadius="16" />
                            </Border.StrokeShape>
                            <VerticalStackLayout Spacing="8">
                                <Image Source="{Binding Image}" Aspect="AspectFill" HeightRequest="160"/>
                                <VerticalStackLayout Padding="12,0,12,12" Spacing="2">
                                    <Label Text="{Binding Title}" FontFamily="OpenSansSemibold" TextColor="{StaticResource White}" />
                                    <Label Text="{Binding Price}" TextColor="{StaticResource Gray400}" FontSize="12" />
                                </VerticalStackLayout>
                            </VerticalStackLayout>
                        </Border>
                    </DataTemplate>
                </CollectionView.ItemTemplate>
            </CollectionView>
        </VerticalStackLayout>
    </ScrollView>

</ContentPage>
